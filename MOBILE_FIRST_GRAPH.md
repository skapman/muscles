# ğŸ“± Mobile-First Ğ“Ñ€Ğ°Ñ„ Ğ¡Ğ²ÑĞ·ĞµĞ¹

## ğŸ¯ ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: ĞœĞ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ°Ñ Ğ’ĞµÑ€ÑĞ¸Ñ

**Ğ’Ğ°Ğ¶Ğ½Ğ¾:** Ğ¤Ğ¾ĞºÑƒÑ Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ²ĞµÑ€ÑĞ¸Ğ¸, Ğ´ĞµÑĞºÑ‚Ğ¾Ğ¿ - Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼.

---

## ğŸ“± ĞœĞ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ°Ñ Ğ’ĞµÑ€ÑĞ¸Ñ Ğ“Ñ€Ğ°Ñ„Ğ°

### Ğ˜Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† Ğ“Ñ€Ğ°Ñ„ ÑĞ²ÑĞ·ĞµĞ¹          [â‹®]  â”‚ â† ĞšĞ¾Ğ¼Ğ¿Ğ°ĞºÑ‚Ğ½Ñ‹Ğ¹ header
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                             â”‚
â”‚  [â”â”â”â”â”â—â”â”â”â”] 2 ÑƒÑ€Ğ¾Ğ²Ğ½Ñ     â”‚ â† ĞŸĞ¾Ğ»Ğ·ÑƒĞ½Ğ¾Ğº Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
â”‚                             â”‚
â”‚  [ğŸ¯] [ğŸ’ª] [ğŸ‹ï¸] [âš ï¸]       â”‚ â† Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ (Ğ¸ĞºĞ¾Ğ½ĞºĞ¸)
â”‚                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚                       â”‚   â”‚
â”‚ â”‚   [Ğ“Ñ€Ğ°Ñ„ Ğ½Ğ° Canvas]    â”‚   â”‚ â† ĞŸĞ¾Ğ»Ğ½Ğ¾ÑĞºÑ€Ğ°Ğ½Ğ½Ğ°Ñ Ğ²Ğ¸Ğ·ÑƒĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
â”‚ â”‚                       â”‚   â”‚
â”‚ â”‚   â€¢ Touch zoom/pan    â”‚   â”‚
â”‚ â”‚   â€¢ Tap Ğ½Ğ° ÑƒĞ·ĞµĞ»       â”‚   â”‚
â”‚ â”‚                       â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                             â”‚
â”‚ [Ğ’Ñ‹Ğ±Ñ€Ğ°Ğ½: Ğ–Ğ°Ñ‚ÑŒ 100ĞºĞ³]        â”‚ â† Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ÑƒĞ·ĞµĞ»
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞÑĞ¾Ğ±ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ²ĞµÑ€ÑĞ¸Ğ¸:

#### 1. **Touch-friendly ĞºĞ¾Ğ½Ñ‚Ñ€Ğ¾Ğ»Ñ‹**
```javascript
// ĞŸĞ¾Ğ»Ğ·ÑƒĞ½Ğ¾Ğº Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ - Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ Ğ´Ğ»Ñ Ğ¿Ğ°Ğ»ÑŒÑ†ĞµĞ²
.depth-slider {
  height: 44px;           // ĞœĞ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ Ğ´Ğ»Ñ touch
  -webkit-appearance: none;
  width: 100%;
  margin: 16px 0;
}

.depth-slider::-webkit-slider-thumb {
  width: 32px;            // Ğ‘Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ thumb
  height: 32px;
  border-radius: 50%;
  background: var(--accent-primary);
  cursor: pointer;
}
```

#### 2. **Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ - Ğ¸ĞºĞ¾Ğ½ĞºĞ¸ Ğ²Ğ¼ĞµÑÑ‚Ğ¾ Ñ‚ĞµĞºÑÑ‚Ğ°**
```javascript
// ĞšĞ¾Ğ¼Ğ¿Ğ°ĞºÑ‚Ğ½Ñ‹Ğµ toggle buttons
<div class="filter-buttons">
  <button class="filter-btn active" data-type="goals">
    ğŸ¯
    <span class="filter-count">5</span>
  </button>
  <button class="filter-btn active" data-type="exercises">
    ğŸ‹ï¸
    <span class="filter-count">12</span>
  </button>
  <button class="filter-btn active" data-type="muscles">
    ğŸ’ª
    <span class="filter-count">8</span>
  </button>
  <button class="filter-btn" data-type="pain">
    âš ï¸
    <span class="filter-count">3</span>
  </button>
</div>
```

#### 3. **ĞŸĞ¾Ğ»Ğ½Ğ¾ÑĞºÑ€Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ³Ñ€Ğ°Ñ„**
```javascript
// Canvas Ğ·Ğ°Ğ½Ğ¸Ğ¼Ğ°ĞµÑ‚ Ğ²ÑÑ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½ÑƒÑ Ğ²Ñ‹ÑĞ¾Ñ‚Ñƒ
const canvas = document.createElement('canvas');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight - headerHeight - controlsHeight;
```

#### 4. **Touch Ğ¶ĞµÑÑ‚Ñ‹**
```javascript
// Pinch to zoom
let initialDistance = 0;

canvas.addEventListener('touchstart', (e) => {
  if (e.touches.length === 2) {
    initialDistance = getDistance(e.touches[0], e.touches[1]);
  }
});

canvas.addEventListener('touchmove', (e) => {
  if (e.touches.length === 2) {
    const currentDistance = getDistance(e.touches[0], e.touches[1]);
    const scale = currentDistance / initialDistance;
    zoom(scale);
  }
});

// Pan with one finger
canvas.addEventListener('touchmove', (e) => {
  if (e.touches.length === 1) {
    const touch = e.touches[0];
    pan(touch.clientX, touch.clientY);
  }
});
```

#### 5. **Bottom Sheet Ğ´Ğ»Ñ Ğ´ĞµÑ‚Ğ°Ğ»ĞµĞ¹ ÑƒĞ·Ğ»Ğ°**
```javascript
// ĞŸÑ€Ğ¸ Ñ‚Ğ°Ğ¿Ğµ Ğ½Ğ° ÑƒĞ·ĞµĞ» - Ğ¿Ğ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ bottom sheet
canvas.addEventListener('touchend', (e) => {
  const touch = e.changedTouches[0];
  const node = findNodeAtPosition(touch.clientX, touch.clientY);

  if (node) {
    showBottomSheet(node);
  }
});

function showBottomSheet(node) {
  const sheet = document.getElementById('node-details-sheet');
  sheet.innerHTML = `
    <div class="sheet-header">
      <h3>${node.data.title}</h3>
      <button class="sheet-close">Ã—</button>
    </div>
    <div class="sheet-content">
      <p>${node.data.description}</p>
      <button class="btn-focus">Ğ¤Ğ¾ĞºÑƒÑ Ğ½Ğ° ÑÑ‚Ğ¾Ğ¼ ÑƒĞ·Ğ»Ğµ</button>
    </div>
  `;
  sheet.classList.add('active');
}
```

---

## ğŸ¨ ĞĞ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ñ D3.js Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…

### ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹ D3.js Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…:
- âŒ Drag & drop Ğ¿Ğ»Ğ¾Ñ…Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ñ touch
- âŒ Hover Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ½Ğ° touch ÑƒÑÑ‚Ñ€Ğ¾Ğ¹ÑÑ‚Ğ²Ğ°Ñ…
- âŒ Force simulation Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ±Ñ‹Ñ‚ÑŒ Ğ¼ĞµĞ´Ğ»ĞµĞ½Ğ½Ñ‹Ğ¼

### Ğ ĞµÑˆĞµĞ½Ğ¸Ñ:

#### 1. **ĞÑ‚ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ drag Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…**
```javascript
const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

if (!isMobile) {
  // Drag Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ½Ğ° Ğ´ĞµÑĞºÑ‚Ğ¾Ğ¿Ğµ
  node.call(d3.drag()
    .on('start', dragstarted)
    .on('drag', dragged)
    .on('end', dragended));
}
```

#### 2. **Tap Ğ²Ğ¼ĞµÑÑ‚Ğ¾ hover**
```javascript
// ĞĞ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ… - tap Ğ´Ğ»Ñ highlight
node.on('touchstart', function(event, d) {
  highlightConnectedNodes(d);
});

// ĞĞ° Ğ´ĞµÑĞºÑ‚Ğ¾Ğ¿Ğµ - hover
if (!isMobile) {
  node.on('mouseenter', function(event, d) {
    highlightConnectedNodes(d);
  });
}
```

#### 3. **ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ force simulation**
```javascript
// ĞœĞµĞ½ÑŒÑˆĞµ Ğ¸Ñ‚ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹ Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…
const simulation = d3.forceSimulation(nodes)
  .force('link', d3.forceLink(edges).distance(100))
  .force('charge', d3.forceManyBody().strength(-300))
  .force('center', d3.forceCenter(width/2, height/2))
  .alphaDecay(isMobile ? 0.05 : 0.02); // Ğ‘Ñ‹ÑÑ‚Ñ€ĞµĞµ Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…

// ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ñ Ğ¿Ğ¾ÑĞ»Ğµ ÑÑ‚Ğ°Ğ±Ğ¸Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸
simulation.on('end', () => {
  console.log('Simulation stabilized');
});
```

---

## ğŸ¯ ĞœĞ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ UX Flow

### Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ 1: Ğ˜ÑÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ³Ñ€Ğ°Ñ„Ğ°

```
1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¾Ñ‚ĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñƒ Ğ³Ñ€Ğ°Ñ„Ğ°
   â†“
2. Ğ’Ğ¸Ğ´Ğ¸Ñ‚ Ğ³Ñ€Ğ°Ñ„ Ñ Ğ´ĞµÑ„Ğ¾Ğ»Ñ‚Ğ½Ğ¾Ğ¹ Ğ³Ğ»ÑƒĞ±Ğ¸Ğ½Ğ¾Ğ¹ (2 ÑƒÑ€Ğ¾Ğ²Ğ½Ñ)
   â†“
3. Ğ”Ğ²Ğ¸Ğ³Ğ°ĞµÑ‚ Ğ¿Ğ¾Ğ»Ğ·ÑƒĞ½Ğ¾Ğº â†’ Ğ³Ñ€Ğ°Ñ„ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ
   â†“
4. Ğ¢Ğ°Ğ¿Ğ°ĞµÑ‚ Ğ½Ğ° ÑƒĞ·ĞµĞ» â†’ bottom sheet Ñ Ğ´ĞµÑ‚Ğ°Ğ»ÑĞ¼Ğ¸
   â†“
5. ĞšĞ½Ğ¾Ğ¿ĞºĞ° "Ğ¤Ğ¾ĞºÑƒÑ Ğ½Ğ° ÑÑ‚Ğ¾Ğ¼ ÑƒĞ·Ğ»Ğµ" â†’ Ğ³Ñ€Ğ°Ñ„ Ğ¿ĞµÑ€ĞµÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ
```

### Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ 2: Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ

```
1. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ²Ğ¸Ğ´Ğ¸Ñ‚ Ğ²ÑĞµ Ñ‚Ğ¸Ğ¿Ñ‹ ÑƒĞ·Ğ»Ğ¾Ğ²
   â†“
2. Ğ¢Ğ°Ğ¿Ğ°ĞµÑ‚ Ğ½Ğ° Ğ¸ĞºĞ¾Ğ½ĞºÑƒ ğŸ¯ (Ñ†ĞµĞ»Ğ¸) â†’ ÑĞºÑ€Ñ‹Ğ²Ğ°ĞµÑ‚ Ñ†ĞµĞ»Ğ¸
   â†“
3. Ğ“Ñ€Ğ°Ñ„ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ, Ğ¿Ğ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ÑƒĞ¿Ñ€Ğ°Ğ¶Ğ½ĞµĞ½Ğ¸Ñ Ğ¸ Ğ¼Ñ‹ÑˆÑ†Ñ‹
   â†“
4. Ğ¢Ğ°Ğ¿Ğ°ĞµÑ‚ ÑĞ½Ğ¾Ğ²Ğ° â†’ Ñ†ĞµĞ»Ğ¸ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ÑÑ‚ÑÑ
```

### Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ 3: Zoom/Pan

```
1. Pinch to zoom â†’ ÑƒĞ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ñ‚ÑŒ/ÑƒĞ¼ĞµĞ½ÑŒÑˆĞ¸Ñ‚ÑŒ Ğ³Ñ€Ğ°Ñ„
   â†“
2. Pan Ğ¾Ğ´Ğ½Ğ¸Ğ¼ Ğ¿Ğ°Ğ»ÑŒÑ†ĞµĞ¼ â†’ Ğ´Ğ²Ğ¸Ğ³Ğ°Ñ‚ÑŒ Ğ³Ñ€Ğ°Ñ„
   â†“
3. Double tap â†’ reset zoom
```

---

## ğŸ“ Ğ Ğ°Ğ·Ğ¼ĞµÑ€Ñ‹ Ğ¸ Ğ¾Ñ‚ÑÑ‚ÑƒĞ¿Ñ‹ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…

```css
/* Mobile-first ÑÑ‚Ğ¸Ğ»Ğ¸ */
.graph-container {
  width: 100vw;
  height: calc(100vh - 60px); /* Header */
  overflow: hidden;
}

.depth-slider-container {
  padding: 16px;
  background: var(--bg-secondary);
}

.depth-slider {
  width: 100%;
  height: 44px; /* Touch-friendly */
  margin: 8px 0;
}

.filter-buttons {
  display: flex;
  gap: 8px;
  padding: 12px 16px;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.filter-btn {
  min-width: 60px;
  height: 60px;
  border-radius: 12px;
  font-size: 24px;
  position: relative;
  flex-shrink: 0;
}

.filter-count {
  position: absolute;
  top: 4px;
  right: 4px;
  background: var(--accent-primary);
  color: white;
  font-size: 10px;
  padding: 2px 6px;
  border-radius: 10px;
}

/* Bottom sheet Ğ´Ğ»Ñ Ğ´ĞµÑ‚Ğ°Ğ»ĞµĞ¹ */
.node-details-sheet {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--bg-primary);
  border-radius: 20px 20px 0 0;
  padding: 20px;
  transform: translateY(100%);
  transition: transform 0.3s ease;
  max-height: 70vh;
  overflow-y: auto;
  box-shadow: 0 -4px 20px rgba(0,0,0,0.3);
}

.node-details-sheet.active {
  transform: translateY(0);
}

/* Ğ£Ğ·Ğ»Ñ‹ Ğ³Ñ€Ğ°Ñ„Ğ° - Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ´Ğ»Ñ touch */
.graph-node {
  min-width: 50px;
  min-height: 50px;
  font-size: 12px;
}

/* Ğ›ĞµĞ³ĞµĞ½Ğ´Ğ° - ĞºĞ¾Ğ¼Ğ¿Ğ°ĞºÑ‚Ğ½Ğ°Ñ */
.graph-legend {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--bg-secondary);
  padding: 8px 16px;
  border-radius: 20px;
  display: flex;
  gap: 12px;
  font-size: 14px;
}
```

---

## ğŸš€ ĞŸĞ»Ğ°Ğ½ Ğ ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ (Mobile-First)

### Ğ¤Ğ°Ğ·Ğ° 1: Ğ‘Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ³Ñ€Ğ°Ñ„ (MVP)
1. âœ… Canvas Ğ³Ñ€Ğ°Ñ„ Ñ D3.js force-directed
2. âœ… Touch zoom/pan
3. âœ… Tap Ğ½Ğ° ÑƒĞ·ĞµĞ» â†’ bottom sheet
4. âœ… ĞŸĞ¾Ğ»Ğ·ÑƒĞ½Ğ¾Ğº Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ (1-3 ÑƒÑ€Ğ¾Ğ²Ğ½Ñ)
5. âœ… Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ Ğ¿Ğ¾ Ñ‚Ğ¸Ğ¿Ğ°Ğ¼ (Ğ¸ĞºĞ¾Ğ½ĞºĞ¸)

### Ğ¤Ğ°Ğ·Ğ° 2: Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ UX
1. âœ… ĞŸĞ»Ğ°Ğ²Ğ½Ñ‹Ğµ Ğ°Ğ½Ğ¸Ğ¼Ğ°Ñ†Ğ¸Ğ¸ Ğ¿Ñ€Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğ¸ Ğ³Ğ»ÑƒĞ±Ğ¸Ğ½Ñ‹
2. âœ… ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ³Ñ€Ğ°Ñ„Ğ¾Ğ²
3. âœ… ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
4. âœ… Ğ˜Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸

### Ğ¤Ğ°Ğ·Ğ° 3: Ğ”ĞµÑĞºÑ‚Ğ¾Ğ¿Ğ½Ğ°Ñ Ğ²ĞµÑ€ÑĞ¸Ñ (Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼)
1. â³ Hover ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹
2. â³ Drag & drop ÑƒĞ·Ğ»Ğ¾Ğ²
3. â³ Ğ‘Ğ¾ĞºĞ¾Ğ²Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ Ğ²Ğ¼ĞµÑÑ‚Ğ¾ bottom sheet
4. â³ Ğ Ğ°ÑÑˆĞ¸Ñ€ĞµĞ½Ğ½Ñ‹Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹

---

## ğŸ“Š ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…

### ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸:

#### 1. **ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ ĞºĞ¾Ğ»Ğ¸Ñ‡ĞµÑÑ‚Ğ²Ğ° ÑƒĞ·Ğ»Ğ¾Ğ²**
```javascript
// ĞĞ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ… - Ğ¼Ğ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ 50 ÑƒĞ·Ğ»Ğ¾Ğ²
const MAX_NODES_MOBILE = 50;
const MAX_NODES_DESKTOP = 200;

const maxNodes = isMobile ? MAX_NODES_MOBILE : MAX_NODES_DESKTOP;

if (nodes.length > maxNodes) {
  // ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Ğ¿Ñ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ğµ
  showWarning(`Ğ¡Ğ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ ÑƒĞ·Ğ»Ğ¾Ğ² (${nodes.length}). Ğ£Ğ¼ĞµĞ½ÑŒÑˆĞ¸Ñ‚Ğµ Ğ³Ğ»ÑƒĞ±Ğ¸Ğ½Ñƒ Ğ¸Ğ»Ğ¸ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞ¹Ñ‚Ğµ Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹.`);
}
```

#### 2. **Throttle Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ»Ğ·ÑƒĞ½ĞºĞ°**
```javascript
// ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑÑ‚ÑŒ Ğ³Ñ€Ğ°Ñ„ Ğ½Ğµ Ñ‡Ğ°Ñ‰Ğµ Ñ€Ğ°Ğ·Ğ° Ğ² 300ms
const throttledUpdate = throttle((depth) => {
  updateGraph(currentNode.type, currentNode.id, depth);
}, 300);

slider.addEventListener('input', (e) => {
  const depth = parseInt(e.target.value);
  valueDisplay.textContent = `${depth} ÑƒÑ€Ğ¾Ğ²Ğ½Ñ`;
  throttledUpdate(depth);
});
```

#### 3. **Lazy loading D3.js**
```javascript
// Ğ—Ğ°Ğ³Ñ€ÑƒĞ¶Ğ°Ñ‚ÑŒ D3.js Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğ¸ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ³Ñ€Ğ°Ñ„Ğ°
async function loadD3() {
  if (!window.d3) {
    const script = document.createElement('script');
    script.src = 'https://d3js.org/d3.v7.min.js';
    document.head.appendChild(script);

    await new Promise((resolve) => {
      script.onload = resolve;
    });
  }
}

// ĞŸÑ€Ğ¸ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚Ğ¸Ğ¸ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹ Ğ³Ñ€Ğ°Ñ„Ğ°
async function initGraphPage() {
  showLoadingSpinner();
  await loadD3();
  hideLoadingSpinner();
  renderGraph();
}
```

#### 4. **Canvas Ğ²Ğ¼ĞµÑÑ‚Ğ¾ SVG Ğ´Ğ»Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ğ³Ñ€Ğ°Ñ„Ğ¾Ğ²**
```javascript
// SVG Ğ´Ğ»Ñ Ğ¼Ğ°Ğ»Ñ‹Ñ… Ğ³Ñ€Ğ°Ñ„Ğ¾Ğ² (<30 ÑƒĞ·Ğ»Ğ¾Ğ²)
// Canvas Ğ´Ğ»Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ğ³Ñ€Ğ°Ñ„Ğ¾Ğ² (>30 ÑƒĞ·Ğ»Ğ¾Ğ²)

if (nodes.length < 30) {
  renderSVGGraph(nodes, edges);
} else {
  renderCanvasGraph(nodes, edges); // Ğ‘Ñ‹ÑÑ‚Ñ€ĞµĞµ Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ñ…
}
```

---

## âœ… Ğ§ĞµĞºĞ»Ğ¸ÑÑ‚ Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ²ĞµÑ€ÑĞ¸Ğ¸

### ĞĞ±ÑĞ·Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾:
- [x] Touch zoom/pan
- [x] ĞŸĞ¾Ğ»Ğ·ÑƒĞ½Ğ¾Ğº Ğ´ĞµÑ‚Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ (Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹, touch-friendly)
- [x] Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ (Ğ¸ĞºĞ¾Ğ½ĞºĞ¸, ĞºĞ¾Ğ¼Ğ¿Ğ°ĞºÑ‚Ğ½Ñ‹Ğµ)
- [x] Bottom sheet Ğ´Ğ»Ñ Ğ´ĞµÑ‚Ğ°Ğ»ĞµĞ¹ ÑƒĞ·Ğ»Ğ°
- [x] ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
- [x] Ğ˜Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ·Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ¸

### Ğ–ĞµĞ»Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾:
- [ ] Haptic feedback Ğ¿Ñ€Ğ¸ Ñ‚Ğ°Ğ¿Ğµ Ğ½Ğ° ÑƒĞ·ĞµĞ»
- [ ] Swipe Ğ´Ğ»Ñ Ğ·Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ñ bottom sheet
- [ ] Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ğ³Ñ€Ğ°Ñ„Ğ° (zoom, pan, Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹)
- [ ] Offline Ñ€ĞµĞ¶Ğ¸Ğ¼ (ĞºÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…)

### Ğ”ĞµÑĞºÑ‚Ğ¾Ğ¿ (Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼):
- [ ] Hover ÑÑ„Ñ„ĞµĞºÑ‚Ñ‹
- [ ] Drag & drop
- [ ] Ğ‘Ğ¾ĞºĞ¾Ğ²Ğ°Ñ Ğ¿Ğ°Ğ½ĞµĞ»ÑŒ
- [ ] Keyboard shortcuts

---

**Ğ¤Ğ¾ĞºÑƒÑ Ğ½Ğ° Ğ¼Ğ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ğ¾Ğ¹ Ğ²ĞµÑ€ÑĞ¸Ğ¸! Ğ”ĞµÑĞºÑ‚Ğ¾Ğ¿ - Ğ² ĞºĞ¾Ğ½Ñ†Ğµ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°.** ğŸ“±âœ¨
